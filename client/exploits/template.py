#!/usr/bin/python3

import sys
import re 
import requests

# --- TEAM DATA ---
TEAM_TOKEN = "CHANGEME"

# --- SERVICE DATA ---
PORT = 8080 # CHANGE THIS
SERVICE_NAME = "biomarkt" # CHANGE THIS

# --- TARGET DATA ---
ip = sys.argv[1]
vuln_service = f"http://{ip}:{PORT}"

# --- REGEXES ---
flag_regex = re.compile(r'[A-Z0-9]{31}=')

# --- RETRIEVING TARGET DATA ---
target_data = requests.get("http://10.10.0.1:8081/flagIds").json()
specific_target_data = target_data[SERVICE_NAME][ip]

# --- FLAGS ---
flag_bucket = [] # Every time you find a flag, append it to the bucket

# 1337 hax goes here

for flag in flag_bucket:
    print(flag)

# You can print the whole output, the client will extract the flags with a regex
